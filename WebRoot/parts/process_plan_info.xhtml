<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">
	<f:metadata>
		<f:viewParam value="#{partProcessConfigBean.selectProcess}" name="planProcess"></f:viewParam>
	</f:metadata>
<h:head>
	<title>零件类型配置</title>
	<style type="text/css">
		
	</style>
</h:head>
<h:body style="overflow:scroll;overflow-x:hidden;overflow-y:auto;">
	<h:form id="myform">
	<h1 align="center">新建零件工艺方案</h1>
	<table>
		<tr>
			<td>零件名称</td>
			<td><h:inputText value="#{processplanInfoBean.partName}" readonly="true"></h:inputText></td>
			<td>零件编号</td>
			<td><h:inputText value="#{processplanInfoBean.partNo}" readonly="true"></h:inputText></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<td>工艺方案名称</td>
			<td><h:inputText value="#{processplanInfoBean.plan.name}" id="name"></h:inputText></td>
			<td>创建人</td>
			<td><h:inputText value="#{processplanInfoBean.plan.operator}" id="operator"></h:inputText></td>
			<td></td>
			<td></td>
		</tr>
		<tr>
			<td>说明</td>
			<td colspan="5">
				<h:inputTextarea value="#{processplanInfoBean.plan.description}">
				</h:inputTextarea>
			</td>
		</tr>
	</table>
	<p:commandButton value="保存(s)" onclick="isnull()"></p:commandButton>
	<p:commandButton value="保存(s)" actionListener="#{processplanInfoBean.SavePlan}" update=":myform:messages" id="save" style="display:none"></p:commandButton>
	<p:growl id="messages" showDetail="true"/>  
    <script type="text/javascript">
		function isnull(){
			 var name=document.getElementById("myform:name").value;
			 var operator=document.getElementById("myform:operator").value;
			 if(null==name||""==name){
				 alert("工艺方案名称不能为空！");
				 return false;
			 }else if(null==operator||""==operator){
				 alert("创建人不能为空！");
			 }else{
				 document.getElementById("myform:save").click();
			 }
			 
		}
	</script>
</h:form>	
</h:body>
</html>
