function showClock(){document.getElementById("loadbtjpg").style.zIndex=0,document.getElementById("loadbtjpg").style.display="none",d=new Date,hours=d.getHours(),minutes=d.getMinutes(),seconds=d.getSeconds(),clck=hours>=12?"下午":"上午",hours=hours>12?hours-12:hours,hours=10>hours?"0"+hours:hours,minutes=10>minutes?"0"+minutes:minutes,seconds=10>seconds?"0"+seconds:seconds,time=clck+" "+hours+":"+minutes+":"+seconds,thisTime.innerHTML=time,setTimeout("showClock()",1e3)}function formatTime(a,b,c,d,e){return second=a,day=0,hour=0,minute=0,number=0,day=second/86400,number=second%86400,hour=number/3600,number%=3600,minute=number/60,second=number%60,parseInt(day)+b+parseInt(hour)+c+parseInt(minute)+d+parseInt(second)+e+""}function getBrowserType(){var a,b={},c=navigator.userAgent.toLowerCase();return(a=c.match(/msie ([\d.]+)/))?b.ie=a[1]:(a=c.match(/firefox\/([\d.]+)/))?b.firefox=a[1]:(a=c.match(/chrome\/([\d.]+)/))?b.chrome=a[1]:(a=c.match(/opera.([\d.]+)/))?b.opera=a[1]:(a=c.match(/version\/([\d.]+).*safari/))?b.safari=a[1]:0,b.ie?"ie":b.firefox?"firefox":b.chrome?"chrome":void 0}function SetCookie(a,b){var c=30,d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3),document.cookie=a+"="+escape(b)+";path=/;expires="+d.toGMTString()}function getCookie(a){var b=document.cookie.match(new RegExp("(^| )"+a+"=([^;]*)(;|$)"));return null!=b?unescape(b[2]):null}function delCookie(a){var b=new Date;b.setTime(b.getTime()-1);var c=getCookie(a);null!=c&&(document.cookie=a+"="+c+";expires="+b.toGMTString())}function toSubstring(a,b){var c="...";return null==a?"":"1"==b&&a.length>10?a.substring(0,10)+c:"2"==b&&a.length>16?a.substring(0,16)+c:"3"==b&&a.length>30?a.substring(0,30)+c:"4"==b&&a.length>15?a.substring(0,15)+c:"5"==b&&a.length>5?a.substring(0,5)+c:a}function remember(a){for(var b=getCookie("pathitem").split("|"),c=1;c<b.length;c++){var d=b[c].split("*");if(d[1]==a)return d[0]}}function jumpto(a){"/"==a||""==a||""!=a&&(SetCookie("menuthirdURL",a),window.location="index.faces?page="+a)}function tableAddLine(a,b,c){var d=$(b).height()-$(a).height()-$(c).height(),e=$($(a).find("tbody tr")[0]).height(),f=d/e+1,g=($(a).offset().top+$(a).height(),"odd-row");$(".rf-dt-b .rf-dt-r").length%2==0&&(g="even-row");var h="add_table_line",i=document.createElement("div");i.id=h,$(i).width($(a).width()).height(d).css("overflow","hidden");for(var j=0;j<parseInt(f);j++){var k=document.createElement("div");k.style.height=e+"px",k.className=g,g="odd-row"==g?"even-row":"odd-row",$(i).append(k)}$(b).find("#"+h).remove(),$(b).append(i)}function searchBtn(){tableAddLine($("#list-frame table")[0],$("#list-frame .table-frame")[0],$("#list-frame .rf-ds"))}function disableFrameShow(a){var b="disable_frame",c=$(a).width(),d=$(a).height(),e=$(a).offset().left,f=$(a).offset().top,g=null;0==$("#"+b).length?(g=document.createElement("div"),g.id=b,g=$(g),$("body").append(g)):g=$("#"+b),g.css({position:"absolute",background:"rgba(0,0,0,.1)",zIndex:"30",width:c,height:d,left:e,top:f}).show()}function disableFrameHide(){var a="disable_frame";$("#"+a).hide()}function dataTranslate(a,b){var c="static/i18n";arguments.length>2&&(c=arguments[2]);var d={resGetPath:c+"/__lng__/"+a+".json",fallbackLng:!1,lngWhitelist:["zh","en"],getAsync:!1};i18n.init(d,b)}function tishi(){var a="content.msg";dataTranslate("jobdispatch_update",function(b){a=b(a)},"../static/i18n"),jAlert(a)}function checkEquSerialNum(){var a="content.msg1",b="content.msg2";dataTranslate("jobdispatch_update",function(c){a=c(a),b=c(b)},"../static/i18n");var c,d=document.getElementById("myform:jobdispatchlistId").value;return $.ajax({url:"../jobdispatch/checkEquSerialNum.action",method:"post",dataType:"json",async:!1,data:{jobdispatchlistId:d},success:function(b){var d=b;d.flag||jAlert(a),c=d.flag},error:function(){jAlert(b)}}),c}function checkStatus(){var a="content.msg2",b="content.msg3",c="content.msg4";return dataTranslate("jobdispatch_update",function(d){a=d(a),b=d(b),c=d(c)},"../static/i18n"),jConfirm(b,null,function(b){if(b){var d,e=document.getElementById("myform:jobdispatchlistId").value;return $.ajax({url:"../jobdispatch/checkJobDispatchStatus.action",method:"post",dataType:"json",async:!1,data:{jobdispatchlistId:e},success:function(a){var b=a;b.flag||jAlert(c),d=b.flag},failure:function(){jAlert(a)}}),d}}),!1}function changeStatus(a,b){var c="content.msg",d="content.msg5",e="content.msg6";dataTranslate("jobdispatch_update",function(a){c=a(c),d=a(d),e=a(e)},"../static/i18n"),$.ajax({url:"../jobdispatch/changeJobDispatchStatus.action",method:"post",dataType:"json",async:!1,data:{jobdispatchlistId:a,status:b},success:function(a){var e=a;e.flag&&jAlert(40==b?c:d)},failure:function(){jAlert(40==b?c:e)}})}function dispatchJob(){var a="content.msg7",b="content.msg8";dataTranslate("jobdispatch_update",function(c){a=c(a),b=c(b)},"../static/i18n");var c=document.getElementById("myform:jobStatus").value;return"20"!=c?jAlert(a):jConfirm(b,null,function(a){if(a){var b=document.getElementById("myform:jobdispatchlistId").value;changeStatus(b,30)}}),!1}function checkData(){var a="content.msg9";dataTranslate("jobdispatch_update",function(b){a=b(a)},"../static/i18n");var b,c=document.getElementById("myform:job_dispatch_add").value,d=document.getElementById("myform:jobdispatchlistId").value;return $.ajax({url:"../jobdispatch/checkEquSerailNo.action",method:"post",dataType:"json",async:!1,data:{jobdispatchlistId:d,serialNo:c},success:function(c){var d=c;d.flag&&jAlert(a),b=!d.flag}}),b}function cxbtn1(){document.getElementById("myform:btn_search1").click()}function cxbtn3(){document.getElementById("myform:btn_search3").click(),parent.document.getElementById("jobdispatchupdate2").src="",parent.document.getElementById("jobdispatchupdate2").style.visibility="hidden",parent.document.getElementById("jobdispatchupdateshadow").style.display="none"}function cxbtn4(){var a="content.msg11",b="content.msg12",c="content.msg13",d="content.msg14",e="content.msg15",f="content.msg16";dataTranslate("jobdispatch_update",function(g){a=g(a),b=g(b),c=g(c),d=g(d),e=g(e),f=g(f)},"../static/i18n");var g=document.getElementById("myform:jobdispatchlistName").value,h=document.getElementById("myform:jobdispatchpartName").value,i=document.getElementById("myform:jobdispatchlistNum").value,j=document.getElementById("myform:jobdispatchlistStartDateInputDate").value,k=document.getElementById("myform:jobdispatchlistEndDateInputDate").value,l=dateCompare(j,k);null==h||""==h?jAlert(b):null==i||""==i?jAlert(c):null==j||""==j?jAlert(d):null==k||""==k?jAlert(e):l?null==g||""==g?jAlert(a):document.getElementById("myform:btn_search4").click():jAlert(f)}function dateCompare(a,b){var c=a.split("-"),d=new Date(c[0],c[1],c[2]),e=b.split("-"),f=new Date(e[0],e[1],e[2]);return d.getTime()<=f.getTime()}function cxbtn5(){var a="content.msg10";dataTranslate("jobdispatch_update",function(b){a=b(a)},"../static/i18n"),jAlert(a,null,function(){parent.document.getElementById("jobdispatchupdate2").style.visibility="hidden",parent.document.getElementById("jobdispatchupdateshadow").style.display="none",parent.location.reload()})}function checklistname(){document.getElementById("myform:img1").click()}function addserialno(){document.getElementById("myform:img2").click()}function chongfu(){var a=document.getElementById("myform:msg").value;null==a||""==a||jAlert(a)}var imgReady=function(){var a=[],b=null,c=function(){for(var b=0;b<a.length;b++)a[b].end?a.splice(b--,1):a[b]();!a.length&&d()},d=function(){clearInterval(b),b=null};return function(d,e,f,g){var h,i,j,k,l,m=new Image;return m.src=d,m.complete?(e.call(m),void(f&&f.call(m))):(i=m.width,j=m.height,m.onerror=function(){g&&g.call(m),h.end=!0,m=m.onload=m.onerror=null},h=function(){k=m.width,l=m.height,(k!==i||l!==j||k*l>1024)&&(e.call(m),h.end=!0)},h(),m.onload=function(){!h.end&&h(),f&&f.call(m),m=m.onload=m.onerror=null},void(h.end||(a.push(h),null===b&&(b=setInterval(c,40)))))}}();!function(a){a.fn.selectAutoHide=function(b){function c(c){var d=a(c).find("option:selected").text();d.length>b&&(d=d.substr(0,b-2)+"..."),a(c).siblings("input[type='text']").val(d)}a(this).parent().append("<input type='text' readonly/>"),this.each(function(){c(this)}),a(this).css("color","rgba(0,0,0,0)").change(function(){c(this)})}}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){function b(a,b){if(0==i||0==j||0==m||0==n)return 0;if(k>m&&(m=k),l>n&&(n=l),0!=o||0!=p){var c=m/n;o>c&&(n=m/o),c>p&&(m=n*p)}if("auto"==a)return"auto";try{isNaN(parseFloat(a))||0==parseFloat(a)||(a=parseFloat(a))}catch(d){return 0}return"w"==b?a*m/i+"px":a*n/j+"px"}function c(b,c){var d=a(b).css(c),e=!1;try{isNaN(parseFloat(d))||0==parseFloat(d)||(e=!0)}catch(f){}return e}function d(d){m=a(window).width(),n=a(window).height();for(var e=["width","w",null],f=["height","h",null],g=["left","w",null],h=["margin-left","w",null],i=["margin-right","w",null],j=["padding-left","w",null],k=["padding-right","w",null],l=["top","h",null],o=["font-size","h",null],p=["line-height","h",null],q=["margin-top","h",null],r=["margin-bottom","h",null],s=["padding-top","h",null],t=["padding-bottom","h",null],u=[e,f,g,h,i,j,k,l,o,p,q,r,s,t],v=0;v<u.length;v++)c(d,u[v][0])&&(u[v][2]=b(a(d).css(u[v][0]),u[v][1]));for(var v=0;v<u.length;v++)null!=u[v][2]&&a(d).css(u[v][0],u[v][2])}function e(d){m=i,n=j;for(var e=["width","w",null],f=["height","h",null],g=["left","w",null],h=["margin-left","w",null],k=["margin-right","w",null],l=["padding-left","w",null],o=["padding-right","w",null],p=["top","h",null],q=["font-size","h",null],r=["line-height","h",null],s=["margin-top","h",null],t=["margin-bottom","h",null],u=["padding-top","h",null],v=["padding-bottom","h",null],w=[e,f,g,h,k,l,o,p,q,r,s,t,u,v],x=0;x<w.length;x++)c(d,w[x][0])&&(w[x][2]=b(a(d).css(w[x][0]),w[x][1]));for(var x=0;x<w.length;x++)null!=w[x][2]&&a(d).css(w[x][0],w[x][2])}function f(b){if(b){if(s)if(a("#autosize_body_hide").length>0)a("#autosize_body_hide").show();else{var c=document.createElement("div");a(c).attr("id","autosize_body_hide").css({position:"fixed",left:"0",top:"0",right:"0",bottom:"0",display:"block",backgroundColor:"White",zIndex:"200003"}).addClass("auto-size-exclude").appendTo("body")}}else a("#autosize_body_hide").fadeOut()}var g=0,h=0,i=0,j=0,k=0,l=0,m=0,n=0,o=0,p=0,q=0,r=[],s=!0;a.autosizeInit=function(){try{if(arguments.length<4)return void console.log("参数错误");arguments.length>5&&(o=parseFloat(arguments[4]),p=parseFloat(arguments[5])),0==q&&(g=parseFloat(arguments[0]),h=parseFloat(arguments[1]),q=1),i=parseFloat(arguments[0]),j=parseFloat(arguments[1]),k=parseFloat(arguments[2]),l=parseFloat(arguments[3])}catch(a){}},a.autosizeReload=function(){return 0==i||0==j?void console.log("autosizeAll函数没有被初始化，请执行autosizeInit函数"):(a(".auto-size,.auto-size-absolute").each(function(){e(this)}),void a.autosizeInit(m,n,k,l))},a.autosizeReset=function(){return 0==i||0==j?void console.log("autosizeAll函数没有被初始化，请执行autosizeInit函数"):void a.autosizeInit(g,h,k,l)},a.autosizeMore=function(){if(f(!0),a.autosizeReload(),0==i||0==j)return void console.log("autosizeAll函数没有被初始化，请执行autosizeInit函数");if(a(".auto-size,.auto-size-absolute:not(.auto-size-exclude)").each(function(){d(this)}),a.autosizeInit(m,n,k,l),r.length>0)for(var b=0;b<r.length;b++)r[b]();f(!1)},a.autosizeElement=function(){var b=null,c=null,e=null;return arguments.length>=1&&(b=arguments[0]),arguments.length>=2&&(c=arguments[1]),arguments.length>=3&&(e=arguments[2]),f(!0),a.autosizeReset(),0==i||0==j?void console.log("autosizeElement函数没有被初始化，请执行autosizeInit函数"):(a(b).hasClass("auto-size-exclude")||(d(b),c&&a(b).find("*:not(.auto-size-exclude)").each(function(){d(this)})),a.autosizeInit(m,n,k,l),null!=e&&"function"==typeof e&&e(),void f(!1))},a.autosizeAll=function(){a("body *:not(.auto-size-exclude)").addClass("auto-size")},a.autosizeExclude=function(b,c){a(b).removeClass("auto-size").removeClass("auto-size-absolute").addClass("auto-size-exclude"),c&&a(b).children().each(function(){a.autosizeExclude(this,!0)})},a.autosizeReturn=function(a){"function"==typeof a&&r.push(a)},a.autosizeFrame=function(a){0==a&&(s=!1)},a(window).resize(function(){a.autosizeMore()})}),$(document).ready(function(){parent.document.getElementById("jobdispatchupdate2").style.visibility="visible",$(".zl-select select").selectAutoHide(10),$("table>tbody>tr>td>div>a").attr("data-i18n",function(){return $(this).text()}),$.autosizeExclude($(".jobdispatch-content-info-tubiao1>*")[0],!0),dataTranslate("jobdispatch_update",function(){$("*[data-i18n]").i18n()},"../static/i18n"),$.autosizeInit(1325,760,800,458),$.autosizeAll(),$.autosizeMore()}),function(a){a.alerts={verticalOffset:-75,horizontalOffset:0,repositionOnResize:!0,overlayOpacity:.01,overlayColor:"#FFF",draggable:!0,okButton:"&nbsp;OK&nbsp;",cancelButton:"&nbsp;Cancel&nbsp;",dialogClass:null,alert:function(b,c,d){null==c&&(c="Alert"),a.alerts._show(c,b,null,"alert",function(a){d&&d(a)})},confirm:function(b,c,d){null==c&&(c="Confirm"),a.alerts._show(c,b,null,"confirm",function(a){d&&d(a)})},prompt:function(b,c,d,e){null==d&&(d="Prompt"),a.alerts._show(d,b,c,"prompt",function(a){e&&e(a)})},_show:function(b,c,d,e,f){switch(a.alerts._hide(),a.alerts._overlay("show"),a("BODY").append('<div id="popup_container"><h1 id="popup_title"></h1><div id="popup_content"><div id="popup_message"></div></div></div>'),a.alerts.dialogClass&&a("#popup_container").addClass(a.alerts.dialogClass),a("#popup_container").css({position:"absolute",zIndex:99999,padding:0,margin:0}),a("#popup_title").text(b),a("#popup_content").addClass(e),a("#popup_message").text(c),a("#popup_message").html(a("#popup_message").text().replace(/\n/g,"<br />")),a("#popup_container").css({minWidth:a("#popup_container").outerWidth(),maxWidth:a("#popup_container").outerWidth()}),a.alerts._reposition(),a.alerts._maintainPosition(!0),e){case"alert":a("#popup_message").after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /></div>'),a("#popup_ok").click(function(){a.alerts._hide(),f(!0)}),a("#popup_ok").focus().keypress(function(b){(13==b.keyCode||27==b.keyCode)&&a("#popup_ok").trigger("click")});break;case"confirm":a("#popup_message").after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+a.alerts.cancelButton+'" id="popup_cancel" /></div>'),a("#popup_ok").click(function(){a.alerts._hide(),f&&f(!0)}),a("#popup_cancel").click(function(){a.alerts._hide(),f&&f(!1)}),a("#popup_ok").focus(),a("#popup_ok, #popup_cancel").keypress(function(b){13==b.keyCode&&a("#popup_ok").trigger("click"),27==b.keyCode&&a("#popup_cancel").trigger("click")});break;case"prompt":a("#popup_message").append('<br /><input type="text" size="30" id="popup_prompt" />').after('<div id="popup_panel"><input type="button" value="'+a.alerts.okButton+'" id="popup_ok" /> <input type="button" value="'+a.alerts.cancelButton+'" id="popup_cancel" /></div>'),a("#popup_prompt").width(a("#popup_message").width()),a("#popup_ok").click(function(){var b=a("#popup_prompt").val();a.alerts._hide(),f&&f(b)}),a("#popup_cancel").click(function(){a.alerts._hide(),f&&f(null)}),a("#popup_prompt, #popup_ok, #popup_cancel").keypress(function(b){13==b.keyCode&&a("#popup_ok").trigger("click"),27==b.keyCode&&a("#popup_cancel").trigger("click")}),d&&a("#popup_prompt").val(d),a("#popup_prompt").focus().select()}if(a.alerts.draggable)try{a("#popup_container").draggable({handle:a("#popup_title")}),a("#popup_title").css({cursor:"move"})}catch(g){}},_hide:function(){a("#popup_container").remove(),a.alerts._overlay("hide"),a.alerts._maintainPosition(!1)},_overlay:function(b){switch(b){case"show":a.alerts._overlay("hide"),a("BODY").append('<div id="popup_overlay"></div>'),a("#popup_overlay").css({position:"absolute",zIndex:99998,top:"0px",left:"0px",width:"100%",height:a(document).height(),background:a.alerts.overlayColor,opacity:a.alerts.overlayOpacity});break;case"hide":a("#popup_overlay").remove()}},_reposition:function(){var b=a(window).height()/2-a("#popup_container").outerHeight()/2+a.alerts.verticalOffset,c=a(window).width()/2-a("#popup_container").outerWidth()/2+a.alerts.horizontalOffset;0>b&&(b=0),0>c&&(c=0),"undefined"==typeof document.body.style.maxHeight&&(b+=a(window).scrollTop()),a("#popup_container").css({top:b+"px",left:c+"px"}),a("#popup_overlay").height(a(document).height())},_maintainPosition:function(b){if(a.alerts.repositionOnResize)switch(b){case!0:a(window).bind("resize",function(){a.alerts._reposition()});break;case!1:a(window).unbind("resize")}}},jAlert=function(b,c,d){a.alerts.alert(b,c,d)},jConfirm=function(b,c,d){a.alerts.confirm(b,c,d)},jPrompt=function(b,c,d,e){a.alerts.prompt(b,c,d,e)}}(jQuery);