<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">
<h:head>
<!-- <link href="../css/general.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="../css/autosize.css" type="text/css"></link>
<link href="../css/jobplan_update.css" rel="stylesheet"	type="text/css" /> -->
<link rel="stylesheet" href="../css/publish/JobPlanUpdate.min.css" type="text/css"></link>
</h:head>
<h:body>
<h:form id="myform">
<div class="jobplan-update-in">
<h:inputHidden value="#{JobPlanUpdata.isSuccess}" id="isSuccess"></h:inputHidden>
<h:inputHidden value="#{JobPlanUpdata.id}" id="jobplanid"></h:inputHidden>
<c:if test="${JobPlanUpdata.addboolqian}">
</c:if>
<div class="jobplan-update-tou">
    <img class="jobplan-update-image" src="../images/toubiaoti.png" />
    <div class="jobplan-update-title">
    <span data-i18n="top.title1"></span>
</div>
</div>
<img class="middle_xian" src="../images/middle.png"/>
<div class="zhongjian_shuju">
       <div class="jobplanupdate-content-label" >
       <span data-i18n="top.ljmc"></span>
        </div>
        <div class=" zl-select jobplanupdate-select-lt">
			<img class="zl-select-bg-left" src="../images/input/box_left.png" />
			<img class="zl-select-bg-center" src="../images/input/box_center.png" />
			<img class="zl-select-bg-right" src="../images/input/box_right_select.png" />
            <h:selectOneMenu id="partTypeId" value="#{JobPlanUpdata.partTypeId}">
					<f:selectItems value="#{JobPlanUpdata.partMap}"></f:selectItems>
						<f:ajax event="change" listener="#{JobPlanUpdata.getPartInfo}" execute="@this" />
	         </h:selectOneMenu> 
	         <h:message for="partTypeId" style="color:red" />
        </div>
        <div class="jobplanupdate-content-label" >
            <span data-i18n="top.jhlx"></span>
        </div>
         <div class="zl-select jobplanupdate-select-lt" id="">
			<img class="zl-select-bg-left" src="../images/input/box_left.png" />
			<img class="zl-select-bg-center" src="../images/input/box_center.png" />
			<img class="zl-select-bg-right" src="../images/input/box_right_select.png" />
            <h:selectOneMenu  id="jobplanType" value="#{JobPlanUpdata.planType}" >
                <f:selectItems value="#{JobPlanUpdata.jobplanType}" var="var" itemLabel="#{var.label}" itemValue="#{var.value}"/>
				<f:ajax event="change" listener="#{JobPlanUpdata.getPTJobPlanInfo}"
					render=":myform:pidpanegrid " execute="@this" />
			 </h:selectOneMenu>
        </div>
        <div class="jobplanupdate-content-label" >
           <span data-i18n="top.fzyjh"></span>
        </div>
        <div class="zl-select jobplanupdate-select-lt">
			<img class="zl-select-bg-left" src="../images/input/box_left.png" />
			<img class="zl-select-bg-center" src="../images/input/box_center.png" />
			<img class="zl-select-bg-right" src="../images/input/box_right_select.png" />
			<h:panelGrid id="pidpanegrid">	
                 <h:selectOneMenu  id="pjobplan" value="#{JobPlanUpdata.pJobPlanId}">
					<!--<f:selectItem itemLabel="请选择" itemValue=""></f:selectItem>-->
					<f:selectItems value="#{JobPlanUpdata.pJobPlan}" var="pjob" itemLabel="#{pjob.name}" itemValue="#{pjob.id}">
				   </f:selectItems>
				 </h:selectOneMenu>
            </h:panelGrid>
           </div>
   </div>
       <div class="zhongjian_shuju1">
        <div class="jobplanupdate-content-label" >
             <span data-i18n="top.jhbh"></span>
        </div>
        <div class="zl-textbox zl-text jobplanupdate-text-lt">
			<img class="zl-text-bg-left" src="../images/input/box_left.png" />
			<img class="zl-text-bg-center" src="../images/input/box_center.png" />
			<img class="zl-text-bg-right" src="../images/input/box_right.png" />
           <h:inputText id="no" value="#{JobPlanUpdata.no}" disabled="true" />
        </div>
        <div class="jobplanupdate-content-label" >
             <span data-i18n="top.jhmc"></span>
        </div>
        <div class="zl-textbox zl-text jobplanupdate-text-lt">
			<img class="zl-text-bg-left" src="../images/input/box_left.png" />
			<img class="zl-text-bg-center" src="../images/input/box_center.png" />
			<img class="zl-text-bg-right" src="../images/input/box_right.png" />
            <h:inputText id="name" value="#{JobPlanUpdata.name}" required="true" requiredMessage="不能为空" />
			<h:message for="name" style="color:red" />
        </div>
        <div class="jobplanupdate-content-label" >
            <span data-i18n="top.jhzt"></span>
        </div>
        <div class="zl-textbox zl-text jobplanupdate-text-lt">
			<img class="zl-text-bg-left" src="../images/input/box_left.png" />
			<img class="zl-text-bg-center" src="../images/input/box_center.png" />
			<img class="zl-text-bg-right" src="../images/input/box_right.png" />
            <h:inputText id="status" value="#{JobPlanUpdata.status}" readonly="true"/>
			<h:inputHidden id="statusHidden" value="#{JobPlanUpdata.statusHidden}"></h:inputHidden>
        </div>
        
        </div>
       <div class="zhongjian_shuju2">
	   <div class="jobplanupdate-content-label" >		
		    <span data-i18n="top.yxj"></span>
	    </div>	
	      <div class="zl-select jobplanupdate-text-lt">
			<img class="zl-select-bg-left" src="../images/input/box_left.png" />
			<img class="zl-select-bg-center" src="../images/input/box_center.png" />
			<img class="zl-select-bg-right" src="../images/input/box_right_select.png" /> 
             <h:selectOneMenu id="priority" value="#{JobPlanUpdata.priority}" >
					<f:selectItem itemLabel="1" itemValue="1"></f:selectItem>
					<f:selectItem itemLabel="2" itemValue="2"></f:selectItem>
					</h:selectOneMenu> 
			<h:message for="priority" style="color:red" />
        </div>
        <div class="jobplanupdate-content-label" >		
		   <span data-i18n="top.jhkssj"></span>
	   </div>	
	   <div class="jobplanupdate-content-select zl-dateBox">
	       <img class="zl-dateBox-bg-left" src="../images/input/box_left.png" />
	       <img class="zl-dateBox-bg-center" src="../images/input/box_center.png" />
	       <img class="zl-dateBox-bg-right" src="../images/input/box_right_date.png" />
	       <rich:calendar id="startTime" inputClass="common_calendar" styleClass="common_condition_spacing" popup="true" locale="en"
				value="#{JobPlanUpdata.planStarttime}"  datePattern="yyyy-MM-dd" required="true" requiredMessage="必须填写时间" />
	       <h:message for="startTime" style="color:red" />
	   </div>
        <div class="jobplanupdate-content-label" >		
		   <span data-i18n="top.jhjssj"></span>
	   </div>	
	   <div class="jobplanupdate-content-select zl-dateBox">
	       <img class="zl-dateBox-bg-left" src="../images/input/box_left.png" />
	       <img class="zl-dateBox-bg-center" src="../images/input/box_center.png" />
	       <img class="zl-dateBox-bg-right" src="../images/input/box_right_date.png" />
	       <rich:calendar id="endTime" inputClass="common_calendar" styleClass="common_condition_spacing" popup="true" locale="en"
				value="#{JobPlanUpdata.planEndtime}"  datePattern="yyyy-MM-dd" required="true" requiredMessage="必须填写时间" />
	       <h:message for="endTime" style="color:red" />
	   </div>
       </div>
  <div class="zhongjian_shuju3">
      <div class="jobplanupdate-content-label" >		
		 <span data-i18n="top.jhsj"></span>
	</div>	
	<div class="jobplanupdate-content-select zl-dateBox">
	<img class="zl-dateBox-bg-left" src="../images/input/box_left.png" />
	<img class="zl-dateBox-bg-center" src="../images/input/box_center.png" />
	<img class="zl-dateBox-bg-right" src="../images/input/box_right_date.png" />
	<rich:calendar id="submitTime" inputClass="common_calendar" styleClass="common_condition_spacing" popup="true" locale="en"
				value="#{JobPlanUpdata.submitTime}"  datePattern="yyyy-MM-dd" required="true" requiredMessage="必须填写时间" />
	  <h:message for="submitTime" style="color:red" />
	  </div>
      <div class="jobplanupdate-content-label" >		
		 <span data-i18n="top.jhsl"></span>
	</div>	
	<div class="zl-textbox zl-text jobplanupdate-text-lt">
			<img class="zl-text-bg-left" src="../images/input/box_left.png" />
			<img class="zl-text-bg-center" src="../images/input/box_center.png" />
			<img class="zl-text-bg-right" src="../images/input/box_right.png" />	
	<h:inputText id="planNum" value="#{JobPlanUpdata.planNum}"  required="true" requiredMessage="不能为空" >
		<f:ajax event="change" listener="#{JobPlanUpdata.getProPlanNoValue}"
				render=":myform:proPlanNos" execute="planNum" />
	</h:inputText> 
	 <h:message for="planNum" style="color:red" />
	</div>  
	<div class="jobplanupdate-content-label" >		
		 <span data-i18n="top.dfprwsl"></span>
	</div>	
	<div class="zl-textbox zl-text jobplanupdate-text-lt">
			<img class="zl-text-bg-left" src="../images/input/box_left.png" />
			<img class="zl-text-bg-center" src="../images/input/box_center.png" />
			<img class="zl-text-bg-right" src="../images/input/box_right.png" />	
	<h:panelGrid id="proPlanNos">
		<h:inputText id="proPlanNo" readonly="true" value="#{JobPlanUpdata.allocatedNum}"/> 
	</h:panelGrid>
	</div>
	</div>     
  <div class="wei_xian">
  <div class="import">
  <img class="import_image" src="../images/guanbi.png"/>
  <h:graphicImage id="btn_search2" alt="search2" url="" style="display:none;">
          <f:ajax  event="click" oncomplete="parent.window.close();"></f:ajax>
  </h:graphicImage>
  <div class="jobplanupdate-content-btn3 jobplanupdate-button1" id="button3" onclick="cxbtn2()">
  <div class="jobplanupdate-button-text1">
			  <span data-i18n="top.qx"></span>
  </div>
  </div>
 </div>
<div class="import1">
<img class="import_image" src="../images/import.png"/>
<h:graphicImage id="btn_search1" alt="search1" url="" style="display:none;">
          <a4j:ajax listener="#{JobPlanUpdata.updataJobPlan}"  event="click"  
          execute="partTypeId jobplanType pjobplan no name status priority startTime endTime submitTime proPlanNo"          
          oncomplete="yzisclose1()" render=":myform:isSuccess"></a4j:ajax>
</h:graphicImage>
<div class="jobplanupdate-content-btn3 jobplanupdate-button1" id="button2" onclick="onYZ()">
<div class="jobplanupdate-button-text1">
			<span data-i18n="top.bc"></span>
</div>
</div>
</div>
</div>      
<p:growl id="messages" showDetail="true"/> 
</div>
<script src="../js/publish/i18next-1.7.4.min.js.gzjs" type="text/javascript"></script>
<!-- <h:outputScript library="js" name="common.js"></h:outputScript>
<h:outputScript library="js" name="autosize.js"></h:outputScript>
<h:outputScript library="js/page" name="jobplan_update.js"></h:outputScript> -->		
<h:outputScript library="js/publish" name="JobPlanUpdate.min.js"></h:outputScript>
    </h:form>
  </h:body>
</ui:composition>
