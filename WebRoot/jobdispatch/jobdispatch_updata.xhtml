<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
<link href="../css/general.css" rel="stylesheet" type="text/css" />
<link rel="stylesheet" href="../css/autosize.css" type="text/css"></link>
<link href="../css/jobdispatch_updata.css" rel="stylesheet" type="text/css" />
<!-- <link rel="stylesheet" href="../css/publish/JobdispatchUpdate.min.css" type="text/css"></link> -->

<script src="../js/publish/i18next-1.7.4.min.js.gzjs" type="text/javascript"></script>
<h:outputScript library="js" name="common.js"></h:outputScript>
<h:outputScript library="js/page" name="jobdispatch_update.js"></h:outputScript>
<h:outputScript library="js" name="jquery.alerts.js"></h:outputScript>
<!-- <h:outputScript library="js/publish" name="JobdispatchUpdate.min.js"></h:outputScript> -->
</h:head>		
<h:body>
<h:form id="myform">
<div class="jobdispatch-update-in">
<h:inputHidden value="#{JobdispatchUpdata.jobdispatchlistId}" id="jobdispatchlistId"></h:inputHidden>
<h:inputHidden id="jobStatus" value="#{JobdispatchUpdata.jobStatus}"></h:inputHidden>
<h:inputHidden id="msg" value="#{JobdispatchUpdata.msg}"></h:inputHidden>
<div class="jobdispatch-update-tou">
    <img class="jobdispatch-update-image" src="../images/toubiaoti.png" />
    <div class="jobdispatch-update-title">
    <span data-i18n="top.title1"></span>
</div>
</div>
<img class="middle_xian" src="../images/middle.png"/>
<div class="jobdispatch-update-biaotou">
<div class="jobdispatch-update-biaotou-text">
   <span data-i18n="top.title2"></span>
</div>
</div>
  <div class="zhongjian_shuju">
        <div class="jobdispatch-content-label" >
           <span data-i18n="top.gdmc"></span>
        </div>
        <div class="zl-textbox zl-text jobdispatch-text-lt ">
        <img class="zl-text-bg-left" src="../images/input/box_left.png" />
		<img class="zl-text-bg-center1" src="../images/input/box_center.png" />
		<img class="zl-text-bg-right1" src="../images/input/box_right_search.png" onclick="checklistname()"/>
		<h:inputText id="jobdispatchlistName" value="#{JobdispatchUpdata.jobdispatchlistName}"/>
		</div>
	  <div class="jobdispatch-content-label" >
           <span data-i18n="top.ljmc"></span>
        </div>
        <div class="zl-textbox zl-text jobdispatch-text-lt ">
        <img class="zl-text-bg-left" src="../images/input/box_left.png" />
		<img class="zl-text-bg-center" src="../images/input/box_center.png" />
		<img class="zl-text-bg-right" src="../images/input/box_right.png" />
		<h:inputText id="jobdispatchpartName" value="#{JobdispatchUpdata.jobdispatchpartName}" />
		</div>
		<div class="jobdispatch-content-label" >
           <span data-i18n="top.bgsl"></span>
        </div>
        <div class="zl-textbox zl-text jobdispatch-text-lt">
        <img class="zl-text-bg-left" src="../images/input/box_left.png" />
		<img class="zl-text-bg-center" src="../images/input/box_center.png" />
		<img class="zl-text-bg-right" src="../images/input/box_right.png" />
		<h:inputText id="jobdispatchlistNum" value="#{JobdispatchUpdata.jobdispatchlistNum}" />
		</div>
		<h:graphicImage id="img1" value="../images/jobplan/add/toBig.png" style="cursor:pointer;margin-left:10px;display:none;" > 
				<f:ajax event="click" listener="#{JobdispatchUpdata.getDispatchNameRepeat}"
							render=":myform:showMsg" execute="jobdispatchlistName" />
		 </h:graphicImage>
    </div>	
     <div class="zhongjian_shuju1">
      <div class="jobdispatch-content-label" >
        <span data-i18n="top.kssj"></span>
      </div>
      <div class="jobdispatch-content-select zl-dateBox">
	  <img class="zl-dateBox-bg-left" src="../images/input/box_left.png" />
	  <img class="zl-dateBox-bg-center" src="../images/input/box_center.png" />
	  <img class="zl-dateBox-bg-right" src="../images/input/box_right_date.png" />
	<rich:calendar  id="jobdispatchlistStartDate" inputClass="common_calendar" styleClass="common_condition_spacing" popup="true" locale="en"
				value="#{JobdispatchUpdata.jobdispatchlistStartDate}"  datePattern="yyyy-MM-dd" required="true" requiredMessage="必须填写时间" />
	   <h:message for="jobdispatchlistStartDate" style="color:red" />
	</div>
	<div class="jobdispatch-content-label" >
        <span data-i18n="top.jssj"></span>
      </div>
      <div class="jobdispatch-content-select zl-dateBox">
	  <img class="zl-dateBox-bg-left" src="../images/input/box_left.png" />
	  <img class="zl-dateBox-bg-center" src="../images/input/box_center.png" />
	  <img class="zl-dateBox-bg-right" src="../images/input/box_right_date.png" />
	<rich:calendar  id="jobdispatchlistEndDate" inputClass="common_calendar" styleClass="common_condition_spacing" popup="true" locale="en"
				value="#{JobdispatchUpdata.jobdispatchlistEndDate}"  datePattern="yyyy-MM-dd" required="true" requiredMessage="必须填写时间" />
	   <h:message for="jobdispatchlistEndDate" style="color:red" />
	</div>
	<div class="jobdispatch-content-label">
	<h:outputText id="showMsg" value="#{JobdispatchUpdata.showMsg}" style="color:red;" />
	</div>
	</div>
	<div class="jobdispatch-update-biaotou">
   <div class="jobdispatch-update-biaotou-text">
      <span data-i18n="top.title3"></span>
   </div>
    </div>
     <div class="zhongjian_shuju1">
     <div class="jobdispatch-content-label" >
         <span data-i18n="top.sblx"></span>
        </div>
	     <div class="zl-select jobdispatch-select-lt">
			<img class="zl-select-bg-left" src="../images/input/box_left.png" />
			<img class="zl-select-bg-center" src="../images/input/box_center.png" />
			<img class="zl-select-bg-right" src="../images/input/box_right_select.png" />
           <h:selectOneMenu id="equipmentTypeId" value="#{JobdispatchUpdata.equipmentTypeId}" disabled="true">
			   <f:selectItems value="#{JobdispatchUpdata.equipmentTypeMap}"></f:selectItems>
		     </h:selectOneMenu> 
		   <h:message for="equipmentTypeId" style="color:red" />	
        </div>
        <div class="jobdispatch-content-label" >
           <span data-i18n="top.sbxlh"></span>
        </div>
        <div class="zl-textbox zl-text jobdispatch-text-lt ">
        <img class="zl-text-bg-left" src="../images/input/box_left.png" />
		<img class="zl-text-bg-center1" src="../images/input/box_center.png" />
		<img class="zl-text-bg-right1" src="../images/input/box_right_plus.png" onclick="addserialno()"/>
		<h:inputText id="job_dispatch_add" value="#{JobdispatchUpdata.serailNo}"/>
		</div>
		<!-- 刀具切削次数上限 -->
		<div class="jobdispatch-content-label" >
           <span data-i18n="">刀具切削次数上限</span>
        </div>
        <div class="zl-textbox zl-text jobdispatch-text-lt ">
        <img class="zl-text-bg-left" src="../images/input/box_left.png" />
		<img class="zl-text-bg-center1" src="../images/input/box_center.png" />
		<img class="zl-text-bg-right1" src="../images/input/box_right_plus.png" onclick="addserialno()"/>
		<h:inputText id="job_dispatch_maxiumcut" value="#{JobdispatchUpdata.maxiumcut}"/>
		</div>
		<h:graphicImage id="img2" value="../images/input/tianjia.png" style="cursor:pointer;margin-left:5px;margin-top:25px;display:none;" > 
			<a4j:ajax listener="#{JobdispatchUpdata.save}" execute="job_dispatch_add" event="click" render=":myform:shebei :myform:msg" oncomplete="chongfu()"></a4j:ajax>
		 </h:graphicImage>
        </div>
        <div class="jobdispatch-content-info">
        <div class="jobdispatch-content-info-tubiao1">
            <h:panelGroup id="shebei">
            <p:dataTable id="dataTable_1" value="#{JobdispatchUpdata.tequJobDispatchList}" var="list" 
            cellpadding="0" cellspacing="0" >
			 <p:column  style="width:168px;">
				<f:facet name="header">
				  <span data-i18n="content.sbxlh1"></span>
				 </f:facet>
				<h:outputText value="#{list.SerialNo}"></h:outputText>
			</p:column>
			<p:column  style="width:156px;">
		       <f:facet name="header">
			       <span data-i18n="content.zt"></span>
			   </f:facet>
			 <h:outputText value="#{list.Status}"></h:outputText>
			</p:column>
			<p:column  style="width:262px;">
			<f:facet name="header">
			<span data-i18n="content.cz"></span>
			  </f:facet>
			<h:commandLink value="content.sc" styleClass="jobdispatch-tuobiao-link" >
			<f:ajax listener="#{JobdispatchUpdata.updataJobDispatch(jobdispatch.SerialNo,'delete')}" event="click" render=":myform:shebei">
			</f:ajax>
			</h:commandLink>
			<h:commandLink value="content.hf" styleClass="jobdispatch-tuobiao-link1" >
			<f:ajax listener="#{JobdispatchUpdata.updataJobDispatch(jobdispatch.SerialNo,'recover')}" event="click" render=":myform:shebei">
			</f:ajax>
			</h:commandLink>
			</p:column>
			</p:dataTable>
			<script language="javascript">
             $("table>tbody>tr>td>div>a").attr("data-i18n", function() {
				return $(this).text();
			}); 	 
             dataTranslate("jobdispatch_update", function(t) { $("*[data-i18n]").i18n();},"../static/i18n");
			  </script>
			</h:panelGroup>				
        </div>
        <div class="zl-xiaobiaoti">
      <div class="jobdispatch-content-input" onclick="return dispatchJob()"> 
         <span data-i18n="content.pg"></span>
      </div>
      </div>
      <div class="zl-xiaobiaoti1">
          <h:graphicImage id="btn_search1" alt="search3" onclick="return checkStatus()" style="display:none;" >
             <a4j:ajax event="click"  listener="#{JobdispatchUpdata.startJob}"   oncomplete="tishi();" execute="@this" ></a4j:ajax>
         </h:graphicImage>
         <div class="jobdispatch-content-input1" onclick="cxbtn1()"> 
         <span data-i18n="content.qd"></span>
         </div>
       </div>
        </div>
       <div class="wei_xian">
         <div class="import3">
          <img class="import_image" src="../images/guanbi.png"/>
          <h:graphicImage id="btn_search3" alt="search3" url="" style="display:none;">
              <a4j:ajax  event="click" oncomplete="parent.window.close();"></a4j:ajax>
           </h:graphicImage>
           <div class="jobdispatch-content-btn3 jobdispatch-button1" id="button4" onclick="cxbtn3()">
           <div class="jobdispatch-button-text1">
			 <span data-i18n="content.qx"></span>
        </div>
       </div>
      </div>
       <div class="import2">
           <img class="import_image" src="../images/import.png"/>
            <h:graphicImage id="btn_search4" alt="search4" url="" style="display:none;">
             <a4j:ajax listener="#{JobdispatchUpdata.updataJobdispatchlist}"  execute="@all"  event="click" oncomplete="cxbtn5()"/>
            </h:graphicImage>
             <div class="jobdispatch-content-btn3 jobdispatch-button1" id="button5" onclick="cxbtn4()" >
            <div class="jobdispatch-button-text1">
			  <span data-i18n="content.bc"></span>
           </div>
          </div>
        </div>
    </div>
</div>
</h:form>
</h:body>
	
</ui:composition>
