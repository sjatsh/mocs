<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:a4j="http://richfaces.org/a4j"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:p="http://primefaces.org/ui">
	
<script type="text/javascript" src="./js/jquery.js" ></script>
<script type="text/javascript" src="./js/jquery.blockUI.js" ></script>
<!-- hightChart JS加载 -->
<h:outputScript library="js" name="highcharts.js"></h:outputScript>
<h:outputScript library="js" name="highcharts-more.js"></h:outputScript>
<h:outputScript library="js" name="exporting.js"></h:outputScript>
<h:outputScript library="js" name="machine_cost.js"></h:outputScript>
<h:outputScript library="js" name="common.js"></h:outputScript>
<link rel="stylesheet" href="./css/machine_cost.css" type="text/css"></link>
<link rel="stylesheet" href="./css/mocs_page.css" type="text/css"></link>
<style>
.rf-p{
 border-width: 0px;
}
</style>

<h:form id="myform">
<div id="maskw" style=" position:absolute; z-index:1000000; top:0px; left:0px; background-color:white; "></div>
<script type="text/javascript">	
	document.getElementById("maskw").style.height = hjb51 + "px";
	document.getElementById("maskw").style.width = wjb51 + "px";
</script>	
	<table id="machinecontains" width="100%">
	<tr><td>
	
	<table id="machinecontainstop">
	<tr><td width="20%" valign="top">
		<img
		src="./images/profile_top_logo.png" 
		style="position: absolute;z-Index: -1; border: 0px solid blue"
		id="img1" />
		<script type="text/javascript">
		document.getElementById("img1").style.top = hjb51* 30 / 1080 + "px";
		document.getElementById("img1").style.left = wjb51* 40 / 1920 + "px";
		</script>
    </td><td width="20%" id="manage_top_left" style="font-weight:bold;
    	     text-align:center;vertical-align:middle;color:#505050;">	
    		成本分析
    </td><td width="20%">	
            <table>	
    		<tr><td id="top_li_type"  style="font-weight:bold;
	                    text-align:center;vertical-align:middle;color:#505050;">	
    		开始时间
              </td></tr>
	          <tr><td id="top_li_type2" style="text-align:center;
            	        color:#505050;vertical-align:middle;">  
        			<rich:calendar id="startTime" popup="true" 
						locale="en" 
						value="#{MachineCost.startTime}" datePattern="yyyy-MM-dd"
						cellWidth="10px" cellHeight="20px" />
              </td></tr>
            </table>
    </td><td width="20%">		
    		<table>	
    		<tr><td id="top_li_type3"  style="font-weight:bold;
	                    text-align:center;vertical-align:middle;color:#505050;">
	                              结束时间
	          </td></tr>
	          <tr><td id="top_li_type4" style="text-align:center;
            	        color:#505050;vertical-align:middle;">   
            	        
 					<rich:calendar id="endTime" popup="true"
						locale="en" 
						value="#{MachineCost.endTime}" datePattern="yyyy-MM-dd"
						cellWidth="10px" cellHeight="20px" />
              </td></tr>
            </table>
     </td><td width="20%">		
    		<table>	
    		<tr><td id="top_li_type5"  style="font-weight:bold;
	                    text-align:center;vertical-align:middle;color:#505050;">
            	查询
	          </td></tr>
	          <tr><td id="top_li_type6" style="text-align:center;
            	        color:#505050;vertical-align:middle;">  
            		<h:commandButton id="selectcom" value=" " image="./images/machin_cost_seach.png"
            		style="cursor: pointer;border: 0px;">
						<a4j:ajax listener="#{MachineCost.searchList}" event="click"
							render=":myform:productcostoneChart1  :myform:productcosttwoChart1" execute="startTime endTime" />
					</h:commandButton>
              </td></tr>
            </table>
    </td></tr>
    </table>
    
    </td></tr>
    <tr><td id="machinecontainscenter"  valign="top"
       style="border:0;">   	
		<img id="img5" style="position:absolute;left:0px;z-Index:-1; 
	       border:0px solid blue;display:none;" src="./images/mc01.png" />
		<table>
		<tr><td>
		<div id="backtab" style="position: absolute;z-index: 100">
			<img id="img2" src="./images/brackTab.png" onclick="jumpto('/mocs/costmanage/cost_analysis.xhtml')" style="cursor: pointer"/>
		</div>
		<div id="tabpage" style="z-index:1000;position: absolute;">
			<img id="img3" style="cursor:pointer;" src="./images/2_01.png" onclick="showLeft();"/><img id="img4"  src="./images/2_02.png" onclick="showRight();"/>
		</div>
		</td></tr>
		<tr><td id="leftChart" style="display:block;float: left;" >
	
			<rich:panel id="productcostoneChart1" style="background:rgba(255, 255, 255, 0)!important">				
			    <div id="leftChartwh" ></div>
			    <h:inputHidden value="#{MachineCost.columJsonData}" id="beanvalue" />	
			    	
			    <div id="type_detail1" style="overflow:auto; background-image: url('./img/parameter_table_bg.png');">              		
				<div id="productcostoneChart" />
				</div>	
							
				<script type="text/javascript">
		        loadDate_one();
		        </script>
			</rich:panel>

		</td></tr>
		<tr><td id="rightChart" style="display:none; float: left;">

			<div id="selectone" style="position: absolute;z-index: 100;">
				<h:selectOneMenu id="no"
						value="#{MachineCost.no}"
						style="color:#595959;">
						<f:selectItem itemLabel="请选择" itemValue=""></f:selectItem>
						<f:selectItems value="#{MachineCost.map}"></f:selectItems>
						<a4j:ajax listener="#{MachineCost.searchList}" event="change"
							render=":myform:productcosttwoChart1 " execute="no" />
		    </h:selectOneMenu>
			</div>
			<rich:panel id="productcosttwoChart1" style="background:rgba(255, 255, 255, 0)!important">
				
			<h:inputHidden value="#{MachineCost.columTwoJsonData}" id="beanvalue1" />
			
			<div id="type_detail2" style="overflow:auto; background-image: url('./img/parameter_table_bg.png');">              		
			<div id="productcosttwoChart"  style="float: left;"/>
			</div>
			
				<script type="text/javascript">
		        loadDate_two();
		        </script>
		        		        		        
<script type="text/javascript">
var imgPercent = hjb51/1080; //比例 	

//头部表格宽高 
document.getElementById("machinecontains").style.width=wjb51+"px";
document.getElementById("machinecontains").style.height=hjb51*90/100+"px";
document.getElementById("machinecontainstop").style.width=wjb51+"px";
document.getElementById("machinecontainstop").style.height=hjb51*265/1080+"px";
document.getElementById("machinecontainscenter").style.width=wjb51+"px";
document.getElementById("machinecontainscenter").style.height=hjb51*716/1080+"px"; //控制中间的高度 

document.getElementById("manage_top_left").style.width=wjb51*384/1920+"px";	
document.getElementById("manage_top_left").style.fontSize=hjb51*55/1080+"px";	
document.getElementById("manage_top_left").style.lineHeight=hjb51*264/1080+"px";

document.getElementById("top_li_type").style.width=wjb51*384/1920+"px";	
document.getElementById("top_li_type").style.fontSize=hjb51*40/1080+"px";	
document.getElementById("top_li_type").style.lineHeight=hjb51*45/1080+"px";
document.getElementById("top_li_type").style.marginTop=hjb51*70/1080+"px";
document.getElementById("top_li_type2").style.width=wjb51*384/1920+"px";	
document.getElementById("top_li_type2").style.fontSize=hjb51*30/1080+"px";	
document.getElementById("top_li_type2").style.lineHeight=hjb51*45/1080+"px";
document.getElementById("top_li_type3").style.width=wjb51*384/1920+"px";	
document.getElementById("top_li_type3").style.fontSize=hjb51*40/1080+"px";	
document.getElementById("top_li_type3").style.lineHeight=hjb51*45/1080+"px";
document.getElementById("top_li_type3").style.marginTop=hjb51*70/1080+"px";
document.getElementById("top_li_type4").style.width=wjb51*384/1920+"px";	
document.getElementById("top_li_type4").style.fontSize=hjb51*30/1080+"px";	
document.getElementById("top_li_type4").style.lineHeight=hjb51*45/1080+"px";
document.getElementById("top_li_type5").style.width=wjb51*384/1920+"px";	
document.getElementById("top_li_type5").style.fontSize=hjb51*40/1080+"px";	
document.getElementById("top_li_type5").style.lineHeight=hjb51*45/1080+"px";
document.getElementById("top_li_type5").style.marginTop=hjb51*70/1080+"px";
document.getElementById("top_li_type6").style.width=wjb51*78/1920+"px";	
document.getElementById("top_li_type6").style.height=hjb51*89/1080+"px";

document.getElementById("myform:startTimeInputDate").style.width=wjb51*260/1920+"px";	
document.getElementById("myform:startTimeInputDate").style.height=hjb51*40/1080+"px";
document.getElementById("myform:startTimeInputDate").style.fontSize=hjb51*30/1080+"px";	
document.getElementById("myform:endTimeInputDate").style.width=wjb51*260/1920+"px";	
document.getElementById("myform:endTimeInputDate").style.height=hjb51*40/1080+"px";
document.getElementById("myform:endTimeInputDate").style.fontSize=hjb51*30/1080+"px";	

document.getElementById("myform:selectcom").style.width=78*imgPercent+"px";	
document.getElementById("myform:selectcom").style.height=89*imgPercent+"px";

//中间 
document.getElementById("backtab").style.marginTop=hjb51*200/1080+"px";
document.getElementById("backtab").style.marginLeft=wjb51*5/1920+"px";

document.getElementById("tabpage").style.marginTop=hjb51*10/1080+"px";
document.getElementById("tabpage").style.marginLeft=wjb51*44/1920+"px";
document.getElementById("tabpage").style.fontSize=hjb51*43/1080+"px";	
document.getElementById("img3").style.marginTop=hjb51*8/1080+"px";
document.getElementById("img3").style.marginLeft=wjb51*6/1920+"px";

//图表 
document.getElementById("leftChart").style.marginLeft=wjb51*105/1920+"px";
document.getElementById("leftChart").style.width=wjb51*1700/1920+"px";	
document.getElementById("leftChart").style.height=hjb51*540/1080+"px";
document.getElementById("leftChartwh").style.width=wjb51*770/1920+"px";	
document.getElementById("leftChartwh").style.height=hjb51*60/1080+"px";
document.getElementById("rightChart").style.marginLeft=wjb51*95/1920+"px";
document.getElementById("rightChart").style.width=wjb51*1700/1920+"px";	
document.getElementById("rightChart").style.height=hjb51*540/1080+"px";
document.getElementById("selectone").style.marginTop=hjb51*40/1080+"px";
document.getElementById("selectone").style.marginLeft=wjb51*700/1920+"px";

document.getElementById("type_detail1").style.width=wjb51*1700/1920+"px";	
document.getElementById("type_detail1").style.height=hjb51*500/1080+"px";
document.getElementById("type_detail1").style.marginLeft=wjb51*5/1920+"px";
document.getElementById("type_detail2").style.width=wjb51*1700/1920+"px";	
document.getElementById("type_detail2").style.height=hjb51*540/1080+"px";
document.getElementById("type_detail2").style.marginLeft=wjb51*5/1920+"px";
document.getElementById("productcosttwoChart").style.width=wjb51*1700/1920+"px";
document.getElementById("productcosttwoChart").style.marginTop=hjb51*60/1080+"px";
	
//下拉框的大小
document.getElementById("myform:no").style.width = 415*imgPercent+"px";  //是270和36大小 
document.getElementById("myform:no").style.height = 50*imgPercent+"px";
document.getElementById("myform:no").style.marginTop = "-"+hjb51*27/1080+"px";
document.getElementById("myform:no").style.marginLeft = wjb51*550/1920+"px"; //离左边为左边图片的宽度 
document.getElementById("myform:no").style.fontSize = hjb51*30/1080+"px";
	
//图片和背景图片大小 
for(var i=1;6>i;i++){
	var new_image = new Image();
	new_image.src = document.getElementById("img"+i).src;
	var wjbimg= new_image.width;
	var hjbimg= new_image.height;
	
	document.getElementById("img"+i).style.width=wjbimg*imgPercent+"px";
	document.getElementById("img"+i).style.height=hjbimg*imgPercent+"px";
}
imgReady('./images/profile_top_logo.png', function () { 
	  var imgwjb51=this.width;
	  var imghjb51=this.height;
	  document.getElementById("img1").style.width=imgwjb51*imgPercent+"px";
	  document.getElementById("img1").style.height=imghjb51*imgPercent+"px";										
	  //document.getElementById("img1").style.top=hjb51*30/1080+"px";
	  //document.getElementById("img1").style.left=wjb51*25/1920+"px";
	  if(wjb51==800)
	  {
		  document.getElementById("img1").style.width=imgwjb51*45/100+"px";
		  document.getElementById("img1").style.height=imghjb51*45/100+"px";  
	  }
});
imgReady('./images/brackTab.png', function () { 
	  var imgwjb51=this.width;
	  var imghjb51=this.height;
	  document.getElementById("img2").style.width=imgwjb51*imgPercent+"px";
	  document.getElementById("img2").style.height=imghjb51*imgPercent+"px";										
});
imgReady('./images/2_01.png', function () { 
	  var imgwjb51=this.width;
	  var imghjb51=this.height;
	  document.getElementById("img3").style.width=imgwjb51*imgPercent+"px";
	  document.getElementById("img3").style.height=imghjb51*imgPercent+"px";										
});
imgReady('./images/2_02.png', function () { 
	  var imgwjb51=this.width;
	  var imghjb51=this.height;
	  document.getElementById("img4").style.width=imgwjb51*imgPercent+"px";
	  document.getElementById("img4").style.height=imghjb51*imgPercent+"px";										
});


//背景图片的位置
document.getElementById("img5").style.left="0px";  //离左边 
document.getElementById("img5").style.top=hjb51*265/1080+"px"; //离顶部 
document.getElementById("img5").style.width=wjb51+"px";
document.getElementById("img5").style.height=hjb51*725/1080+"px";
	
</script>		

	<script type="text/javascript">
	        loadData();
	        document.getElementById("myform:startTimePopupButton").style.display="none";
	        document.getElementById("myform:endTimePopupButton").style.display="none";
	        
	        
	        function showLeft(){
	        	$("#leftChart").show();
	        	$("#rightChart").hide();
	        	$("#img3").attr("src","./images/2_01.png");
	        	$("#img4").attr("src","./images/2_02.png");
	        }
	        
	        function showRight(){
	        	$("#leftChart").hide();
	        	$("#rightChart").show();
	        	$("#img3").attr("src","./images/1_01.png");
	        	$("#img4").attr("src","./images/1_02.png");
	        }
    </script>
    	 <script type="text/javascript">
				setTimeout(function(){
				//document.getElementById("maskw").style.display="none";
				document.getElementById("img5").style.display="block";
				$("#maskw").fadeOut(fadeouttime);
				},settimeout);
     	</script>
		        
			</rich:panel>

		</td></tr>
		</table>
		
	</td></tr>
	</table>

</h:form>

</ui:composition>